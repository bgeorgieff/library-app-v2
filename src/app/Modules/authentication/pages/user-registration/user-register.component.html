<div class="container">
  <div class="full-form-container">
    <div class="head-section">
      <img src="{{ logo }}" class="head-section-logo" alt="The curious readers logo" />
      <div class="head-section-title">Sign up</div>
      <span class="head-section-text"
        >Already gave an account?
        <a routerLink="/account/login">Log in here </a>
      </span>
    </div>
    <form
      [formGroup]="registrationForm"
      (ngSubmit)="submitRegister()"
      appPassValid
      autocomplete="off"
    >
      <div class="row">
        <div class="col-md-6 col-12 form-container">
          <label class="form-label" required
            >First Name<span class="required"></span
          ></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('firstName') }"
            class="form-control"
            formControlName="firstName"
          />
          <div *ngIf="isInvalid('firstName')" class="error-message">
            <small *ngIf="firstName.errors?.['required']"
              >First Name is required!</small
            >
            <small *ngIf="firstName.errors?.['minlength']"
              >First Name must be at least 3 characters!</small
            >
            <small *ngIf="firstName.errors?.['maxlength']"
              >First Name cannot be longer than 128 characters!</small
            >
          </div>
        </div>
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Last Name<span class="required"></span
          ></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('lastName') }"
            class="form-control"
            formControlName="lastName"
          />
          <div *ngIf="isInvalid('lastName')" class="error-message">
            <small *ngIf="lastName.errors?.['required']"
              >Last Name is required!</small
            >
            <small *ngIf="lastName.errors?.['minlength']"
              >Last Name must be at least 3 characters!</small
            >
            <small *ngIf="lastName.errors?.['maxlength']"
              >Last Name cannot be longer than 128 characters!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Email address<span class="required"></span
          ></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('email') }"
            class="form-control"
            formControlName="email"
          />
          <div *ngIf="isInvalid('email')" class="error-message">
            <small *ngIf="email.errors?.['required']">Email is required!</small>
            <small *ngIf="email.errors?.['pattern']"
              >This is not valid email!</small
            >
            <small *ngIf="email.errors?.['maxlength']"
              >Last Name cannot be longer than 256 characters!</small
            >
          </div>
        </div>
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Phone number<span class="required"></span
          ></label>
          <div
            [ngClass]="{ 'validation-border': isInvalid('phoneNumber') }"
            class="form-control"
          >
            <input class="country-code" [value]="countryCode?.value" readonly />
            <input
              type="number"
              class="phone-number"
              formControlName="phoneNumber"
            />
          </div>
          <div *ngIf="isInvalid('phoneNumber')" class="error-message">
            <small *ngIf="phoneNumber.errors?.['required']"
              >PhoneNumber is required!</small
            >
            <small *ngIf="phoneNumber.errors?.['pattern']"
              >This is not valid phoneNumber!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Password<span class="required"></span
          ></label>
          <input
            type="password"
            [ngClass]="{ 'validation-border': isInvalid('password') }"
            class="form-control"
            formControlName="password"
          />
          <div *ngIf="isInvalid('password')" class="error-message">
            <small *ngIf="password.errors?.['required']"
              >Password is required!</small
            >
            <small *ngIf="password.errors?.['pattern']"
              >Password must be at least 10 characters lowercase uppercase and
              special character!</small
            >
          </div>
        </div>
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Repeat Password<span class="required"></span
          ></label>
          <input
            type="password"
            [ngClass]="{ 'validation-border': isInvalid('repeatPassword') }"
            class="form-control"
            formControlName="repeatPassword"
          />
          <div *ngIf="isInvalid('repeatPassword')" class="error-message">
            <small *ngIf="repeatPassword.errors?.['required']"
              >Repeat Password is required!</small
            >
            <small *ngIf="repeatPassword.errors?.['passValid']"
              >Password and Repeat Password must be match!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-12 form-container">
          <label class="form-label"
            >Country<span class="required"></span
          ></label>
          <select
            name="countrySelect"
            [ngClass]="{ 'validation-border': isInvalid('country') }"
            class="form-select"
            (change)="changeCountry($event)"
            formControlName="country"
          >
            <option disabled [defaultSelected]="true">
              Select your country
            </option>
            <option *ngFor="let c of countries" [value]="c.name">
              {{ c.name }}
            </option>
          </select>
          <div *ngIf="isInvalid('countryCode')" class="error-message">
            <small *ngIf="countryCode?.errors?.['required']"
              >Country is required!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8 col-12 form-container">
          <label class="form-label">Street<span class="required"></span></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('street') }"
            class="form-control"
            formControlName="street"
          />
          <div *ngIf="isInvalid('street')" class="error-message">
            <small *ngIf="street.errors?.['required']"
              >Street is required!</small
            >
            <small *ngIf="street.errors?.['maxlength']"
              >Street cannot be longer than 128 characters!</small
            >
          </div>
        </div>
        <div class="col-md-4 col-12 form-container">
          <label class="form-label"
            >Street number<span class="required"></span
          ></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('streetNumber') }"
            class="form-control"
            formControlName="streetNumber"
          />
          <div *ngIf="isInvalid('streetNumber')" class="error-message">
            <small *ngIf="streetNumber.errors?.['required']"
              >Street number is required!</small
            >
            <small *ngIf="streetNumber.errors?.['maxlength']"
              >Street number cannot be longer than 65 characters!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 form-container">
          <label class="form-label">Building number</label>
          <input
            type="text"
            class="form-control"
            formControlName="buildingNumber"
          />
          <div *ngIf="buildingNumber.invalid" class="error-message">
            <small *ngIf="buildingNumber.errors?.['maxlength']"
              >Street number cannot be longer than 65 characters!</small
            >
          </div>
        </div>
        <div class="col-md-4 form-container">
          <label class="form-label">Apartment number</label>
          <input
            type="text"
            class="form-control"
            formControlName="apartmentNumber"
          />
          <div *ngIf="apartmentNumber.invalid" class="error-message">
            <small *ngIf="apartmentNumber.errors?.['maxlength']"
              >Apartment number cannot be longer than 65 characters!</small
            >
          </div>
        </div>
        <div class="col-md-4 form-container">
          <label class="form-label">City<span class="required"></span></label>
          <input
            type="text"
            [ngClass]="{ 'validation-border': isInvalid('city') }"
            class="form-control"
            formControlName="city"
          />
          <div *ngIf="isInvalid('city')" class="error-message">
            <small *ngIf="city.errors?.['required']">City is required!</small>
            <small *ngIf="city.errors?.['maxlength']"
              >City cannot be longer than 128 characters!</small
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 form-container">
          <label class="form-label">Additional information</label>
          <textarea
            type="text"
            class="form-control"
            formControlName="additionalInfo"
          >
          </textarea>
          <div *ngIf="additionalInfo.invalid" class="error-message">
            <small *ngIf="additionalInfo.errors?.['maxlength']"
              >Additional Info number cannot be longer than 1028
              characters!</small
            >
          </div>
        </div>
      </div>
      <div class="button-container">
        <button
          type="submit"
          [ngClass]="{ 'btn-disabled': !registrationForm.valid }"
          class="btn-form"
        >
          Sign up
        </button>
      </div>
    </form>
  </div>
</div>

